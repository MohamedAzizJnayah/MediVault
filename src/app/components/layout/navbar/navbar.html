<nav class="sticky top-0 z-50 border-b border-gray-200/70 bg-white/80 backdrop-blur-md">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex h-16 items-center justify-between">

      <!-- Logo -->
      <a routerLink="/dashboard" class="flex items-center gap-3 group">
        <div class="w-10 h-10 rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-600
                    text-white flex items-center justify-center font-black shadow-sm
                    ring-1 ring-blue-500/20 group-hover:shadow-md transition">
          +
        </div>

        <div class="leading-tight">
          <div class="text-lg font-semibold text-gray-900 tracking-tight">
            Medi<span class="text-blue-600">Vault</span>
          </div>
          <div class="text-[11px] text-gray-500 -mt-0.5">
            Secure health companion
          </div>
        </div>
      </a>

      <!-- Desktop menu -->
      <div class="hidden md:flex items-center gap-2">

        <a routerLink="/dashboard" routerLinkActive="active-link" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
              d="M3 10.5L12 3l9 7.5M5 9.5V21h5v-6h4v6h5V9.5" />
          </svg>
          Dashboard
        </a>

        <a routerLink="/medical-records" routerLinkActive="active-link" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
              d="M9 12h6m-6 4h6M7 3h7l5 5v13a1 1 0 01-1 1H7a1 1 0 01-1-1V4a1 1 0 011-1z" />
          </svg>
          Dossiers
        </a>

        <a routerLink="/medications" routerLinkActive="active-link" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
              d="M8.5 15.5l7-7M7 17a4.95 4.95 0 007 0l3-3a4.95 4.95 0 10-7-7l-3 3a4.95 4.95 0 000 7z" />
          </svg>
          Médicaments
        </a>

        <a routerLink="/reminders" routerLinkActive="active-link" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
              d="M12 6v6l4 2m6-2a10 10 0 11-20 0 10 10 0 0120 0z" />
          </svg>
          Rappels
        </a>

      </div>

      <!-- Right actions -->
      <div class="flex items-center gap-2 sm:gap-3">

        <!-- Notifications -->
        <button
          type="button"
          class="relative inline-flex items-center justify-center w-10 h-10 rounded-xl
                 text-gray-600 hover:text-blue-700 hover:bg-blue-50
                 ring-1 ring-gray-200/70 transition">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
              d="M15 17h5l-1.4-1.4A2 2 0 0118 14.2V11a6 6 0 10-12 0v3.2a2 2 0 01-.6 1.4L4 17h5m6 0a3 3 0 11-6 0" />
          </svg>
          <span class="absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full ring-2 ring-white"></span>
        </button>

        <!-- Profile -->
        <button
          type="button"
          class="hidden sm:flex items-center gap-2 pl-2 pr-3 h-10 rounded-xl
                 bg-gray-50 hover:bg-gray-100 ring-1 ring-gray-200/70 transition">
          <div class="w-7 h-7 rounded-lg bg-blue-600 text-white flex items-center justify-center text-sm font-bold">
            E
          </div>
          <div class="text-left leading-tight">
            <div class="text-sm font-medium text-gray-800">Emna</div>
            <div class="text-[11px] text-gray-500 -mt-0.5">Patient</div>
          </div>
        </button>

        <!-- Mobile menu button -->
        <button
          type="button"
          class="md:hidden inline-flex items-center justify-center w-10 h-10 rounded-xl
                 text-gray-600 hover:text-gray-900 hover:bg-gray-100 ring-1 ring-gray-200/70 transition"
          (click)="toggleMobileMenu()">
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

      </div>
    </div>

    <!-- Mobile menu -->
    @if (mobileMenuOpen) {
      <div class="md:hidden pb-4">
        <div class="mt-3 rounded-2xl border border-gray-200/70 bg-white shadow-sm overflow-hidden">

          <a routerLink="/dashboard" class="mobile-link">
            Dashboard
          </a>

          <a routerLink="/medical-records" class="mobile-link">
            Dossiers médicaux
          </a>

          <a routerLink="/medications" class="mobile-link">
            Médicaments
          </a>

          <a routerLink="/reminders" class="mobile-link">
            Rappels
          </a>

        </div>
      </div>
    }
  </div>
</nav>
